# ๐ง ุณุฌู ุฅุตูุงุญ ูุดููุฉ ุงููุตุงุฑูู

## ุงูุชุงุฑูุฎ: 21 ุฃูุชูุจุฑ 2025

## ๐ ุงููุดููุฉ ุงูุฃุตููุฉ:
- ุฎุทุฃ 500 ุนูุฏ ุฌูุจ ูุงุฆูุฉ ุงููุตุงุฑูู ูู API
- ุงููุตุงุฑูู ูุง ุชุธูุฑ ูู ุตูุญุฉ ูุงุฆูุฉ ุงููุตุงุฑูู ุจุนุฏ ุฅุถุงูุชูุง

## โ ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ:

### 1. ุชุญุณูู Error Logging ูู API (`app/api/expenses/route.ts`)
```typescript
// ุฃุถููุช ุชูุงุตูู ุฃูุซุฑ ููุฃุฎุทุงุก:
- ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุงููุฉ
- Stack trace
- Query parameters ุงููุฑุณูุฉ
- Filters ุงููุณุชุฎุฏูุฉ
- Body ุงูุจูุงูุงุช (ูู POST)
```

**ุงููุฏู:** ูุนุฑูุฉ ุงูุณุจุจ ุงูุญูููู ููุฎุทุฃ 500 ูู terminal logs

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงููุทููุจุฉ:

### ุงูุฎุทูุฉ 1: ูุญุต Terminal Logs
```bash
# ุดุบูู ุงูุณูุฑูุฑ
npm run dev

# ุฑุงูุจ terminal ุฃุซูุงุก:
1. ุฅุถุงูุฉ ูุตุฑูู ุฌุฏูุฏ ูู /add-expense
2. ุงูุงูุชูุงู ุฅูู /expenses-list
```

**ุงุจุญุซ ุนู:**
- ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุชู ุชุจุฏุฃ ุจู โ
- Error details ุงููุทุจูุนุฉ
- ุฃู ุฑุณุงุฆู ูู Prisma ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฎุทูุฉ 2: ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ
```bash
# ุงูุชุญ ูู ุงููุชุตูุญ:
http://localhost:3000/api/expenses

# ุฃู ุงุณุชุฎุฏู curl:
curl http://localhost:3000/api/expenses
```

### ุงูุฎุทูุฉ 3: ูุญุต Network Tab
1. ุงูุชุญ DevTools (F12)
2. ุงุฐูุจ ุฅูู Network tab
3. ุงูุชุญ ุตูุญุฉ /expenses-list
4. ุงุจุญุซ ุนู ุทูุจ `/api/expenses`
5. ุงูุญุต:
   - Status Code
   - Response Body
   - Request Headers

## ๐ ุงูุฃุณุจุงุจ ุงููุญุชููุฉ ูููุดููุฉ:

### 1. ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช Prisma
```
- ุฌุฏูู Expense ุบูุฑ ููุฌูุฏ
- ุนูุงูุงุช ุบูุฑ ุตุญูุญุฉ ูุน Category/Subcategory/User
- Prisma Client ุบูุฑ ููุญุฏูุซ (ูุญุชุงุฌ npx prisma generate)
```

### 2. ูุดููุฉ ูู Session/Authentication
```
- userId ุบูุฑ ููุฌูุฏ ูู ุงูุทูุจ
- Session ููุชููุฉ ุฃู ุบูุฑ ุตุญูุญุฉ
```

### 3. ูุดููุฉ ูู Supabase (ุฅุฐุง ููุช ุชุณุชุฎุฏูู)
```
- RLS (Row Level Security) ูููุน ุงููุฑุงุกุฉ
- ููุงุชูุญ API ููุชููุฉ
```

## ๐๏ธ ุงูุญููู ุงูููุชุฑุญุฉ ุญุณุจ ุงูุฎุทุฃ:

### ุฅุฐุง ุธูุฑ: "Cannot find table Expense"
```bash
npx prisma generate
npx prisma db push
```

### ุฅุฐุง ุธูุฑ: "userId is required"
```javascript
// ูุฌุจ ุฅุถุงูุฉ userId ููุทูุจ ูู expenses-list/page.jsx
const response = await fetch('/api/expenses?userId=USER_ID');
```

### ุฅุฐุง ุธูุฑ: "Foreign key constraint failed"
```sql
-- ุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช ุงููุทููุจุฉ:
SELECT * FROM Category;
SELECT * FROM User;
```

## ๐ ุงูููุงุญุธุงุช ุงููุงูุฉ:

1. **ุงูุตูุญุฉ ูุง ุชุฑุณู userId** - ูุฐุง ูุฏ ูููู ุงูุณุจุจ ุงูุฑุฆูุณู
2. **API ูุชููุน userId ุฃู familyId** - ูููููุง optional ูู Schema
3. **ุจุฏูู userIdุ API ูุญุงูู ุฌูุจ ูู ุงููุตุงุฑูู** - ูุฏ ูุณุจุจ ูุดุงูู

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ ุงูููุชุฑุญุฉ:

**ุจุนุฏ ูุญุต Terminal Logsุ ุณููุฑุฑ:**
- ูู ูุถูู ุฏุนู Session ูู API ูุฌูุจ userId ุชููุงุฆูุงูุ
- ูู ูุญุฏุซ ุตูุญุฉ expenses-list ูุฅุฑุณุงู userIdุ
- ูู ูุตูุญ ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

---

## ๐ ุชุนูููุงุช ุงูุชูุงุตู:

**ุจุนุฏ ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุชุ ุฃุฑุณู:**
1. Screenshot ูู Terminal ุนูุฏ ุญุฏูุซ ุงูุฎุทุฃ
2. Response ูู Network tab
3. ุฃู ุฑุณุงุฆู ุฎุทุฃ ุธูุฑุช

**ุณุฃููู ุฌุงูุฒุงู ูุชูุฏูู ุงูุญู ุงูููุงุณุจ!** ๐
