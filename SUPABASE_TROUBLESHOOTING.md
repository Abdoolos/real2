# ๐ด ุญู ูุดููุฉ: Can't reach database server

## ุงููุดููุฉ
```
Error: P1001: Can't reach database server at `db.mmvqjrmkukrmjzakhfrw.supabase.co:5432`
```

---

## โ ุงูุญููู ุงูููุชุฑุญุฉ (ุจุงูุชุฑุชูุจ)

### 1๏ธโฃ ุชุญูู ูู ุญุงูุฉ ุงููุดุฑูุน ูู Supabase

#### ุงูุฎุทูุงุช:
1. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
2. ุงุจุญุซ ุนู ูุดุฑูุนู (mmvqjrmkukrmjzakhfrw)
3. **ุชุญูู ูู ุญุงูุฉ ุงููุดุฑูุน**:
   - โ ูุฌุจ ุฃู ูููู **Active** (ุฃุฎุถุฑ)
   - โ ุฅุฐุง ูุงู **Paused** (ููููู) โ ุงุถุบุท ุนูู **Resume** ูุชูุนููู
   - โ ุฅุฐุง ูุงู **Inactive** โ ูุฏ ุชุญุชุงุฌ ูุชุฑููุฉ ุงูุฎุทุฉ

#### ุฅุฐุง ูุงู ุงููุดุฑูุน ูููููุงู:
```
ุงููุดุงุฑูุน ุงููุฌุงููุฉ ุชุชููู ุชููุงุฆูุงู ุจุนุฏ ูุชุฑุฉ ูู ุนุฏู ุงูุงุณุชุฎุฏุงู.
ุงููุดุงุฑูุน ุงููุฏููุนุฉ ูุฌุจ ุฃู ุชุจูู ูุดุทุฉ ุฏุงุฆูุงู.
```

---

### 2๏ธโฃ ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฃูุงู (IP Whitelist)

#### ุงูุฎุทูุงุช:
1. ูู Supabase Dashboard โ ุงุฎุชุฑ ูุดุฑูุนู
2. Settings โ Database
3. **Connection pooling** โ ุงูุฒู ููุฃุณูู
4. ุงุจุญุซ ุนู **Restrict connections by IP**

#### ุงูุญู:
- **ุงูุฎูุงุฑ ุงูุฃูุถู**: ุงุฎุชุฑ **Allow all IP addresses** (ูุคูุชุงู ููุงุฎุชุจุงุฑ)
- **ุฃู**: ุฃุถู IP ุงูุฎุงุต ุจู ูุฏููุงู

#### ููู ุชุนุฑู IP ุงูุฎุงุต ุจูุ
- ุงุฐูุจ ุฅูู: https://whatismyipaddress.com/
- ุงูุณุฎ ุงูู IPv4 Address
- ุฃุถูู ูู Supabase

---

### 3๏ธโฃ ุชุญูู ูู ูููุฉ ุงููุฑูุฑ

#### ุงููุดููุฉ ุงููุญุชููุฉ:
ูููุฉ ุงููุฑูุฑ ูุฏ ุชููู:
- โ ุฎุงุทุฆุฉ
- โ ุชุญุชูู ุนูู ูุณุงูุงุช ุฒุงุฆุฏุฉ
- โ ุชุญุชูู ุนูู ุญุฑูู ุฎุงุตุฉ ุบูุฑ ููุดูููุฑุฉ

#### ุงูุญู:
1. ุงุฐูุจ ุฅูู: Settings โ Database
2. ุงุถุบุท ุนูู **Reset Database Password**
3. ุงูุณุฎ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ **ุจุฏูุฉ**
4. ุญุฏูุซ ููู `.env`

---

### 4๏ธโฃ ุชุญูู ูู ููุน ุงููุดุฑูุน (Region)

#### ุงูุฎุทูุงุช:
1. Settings โ General
2. ุงุจุญุซ ุนู **Region**
3. ุชุฃูุฏ ุฃู ุงูููุทูุฉ ุตุญูุญุฉ ูู Connection String

#### ูุซุงู:
```
ุฅุฐุง ูุงูุช ุงูููุทูุฉ: eu-central-1
ูุฌุจ ุฃู ูููู Connection String:
postgresql://postgres:password@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
```

---

### 5๏ธโฃ ุงุฎุชุจุฑ ุงูุงุชุตุงู ูู Supabase ููุณู

#### ุงูุฎุทูุงุช:
1. ุงุฐูุจ ุฅูู: SQL Editor ูู Supabase Dashboard
2. ุฌุฑุจ ุชุดุบูู:
```sql
SELECT 1;
```

#### ุฅุฐุง ูุฌุญ:
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู
- ุงููุดููุฉ ูู Connection String ุฃู ุงูุดุจูุฉ

#### ุฅุฐุง ูุดู:
- โ ุงููุดุฑูุน ูุฏ ูููู ูุนุทู ุฃู ูุญุฐูู

---

### 6๏ธโฃ ุฌุฑุจ Connection String ุจุฏูู

ุจุฏูุงู ูู ุงูุงุชุตุงู ุงููุจุงุดุฑุ ุฌุฑุจ Transaction Mode:

#### ุญุฏูุซ `.env`:
```env
DATABASE_URL="postgresql://postgres:bbRSfB6LHcFkgswO@aws-0-eu-central-1.pooler.supabase.com:5432/postgres?pgbouncer=true&connection_limit=1"

DIRECT_URL="postgresql://postgres:bbRSfB6LHcFkgswO@aws-0-eu-central-1.pooler.supabase.com:5432/postgres"
```

---

### 7๏ธโฃ ุชุญูู ูู Firewall/Antivirus

#### ุงููุดููุฉ:
Firewall ูุฏ ูููุน ุงูุงุชุตุงู ุจู Port 5432 ุฃู 6543

#### ุงูุญู:
1. ุฃููู Firewall/Antivirus ูุคูุชุงู
2. ุฌุฑุจ ุงูุงุชุตุงู ูุฑุฉ ุฃุฎุฑู
3. ุฅุฐุง ูุฌุญ โ ุฃุถู exception ููุจูุฑุชุงุช

---

## ๐ ูุนูููุงุช ุชุดุฎูุตูุฉ

### Connection Strings ุงูุญุงููุฉ:
```
DATABASE_URL (Pooling):
postgres://postgres:bbRSfB6LHcFkgswO@db.mmvqjrmkukrmjzakhfrw.supabase.co:6543/postgres

DIRECT_URL (Migrations):
postgresql://postgres:bbRSfB6LHcFkgswO@db.mmvqjrmkukrmjzakhfrw.supabase.co:5432/postgres
```

### ูุนูููุงุช ุงููุดุฑูุน:
- **Project Ref**: mmvqjrmkukrmjzakhfrw
- **Host**: db.mmvqjrmkukrmjzakhfrw.supabase.co
- **Ports**: 5432 (Direct), 6543 (Pooling)

---

## ๐ Checklist ููุชุญูู

ูุจู ุงูุชูุงุตู ูุน ุงูุฏุนูุ ุชุฃูุฏ ูู:

- [ ] ุงููุดุฑูุน **ูุดุท** (Active) ูู Supabase Dashboard
- [ ] **Allow all IP addresses** ูููุนูู
- [ ] ูููุฉ ุงููุฑูุฑ **ุตุญูุญุฉ 100%**
- [ ] ุงูุงุดุชุฑุงู ุงููุฏููุน **ูุดุท**
- [ ] ูุง ููุฌุฏ Firewall ูููุน ุงูุงุชุตุงู
- [ ] ุฌุฑุจุช ุงูุงุชุตุงู ูู SQL Editor ูู Supabase (ูุฌุญ)

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ ุงูููุตู ุจูุง

### ุงูุญู ุงูุฃูุซุฑ ุงุญุชูุงูุงู:

**ุงููุดุฑูุน ููููู (Paused)** - ููุฐุง ุฃุดูุฑ ุณุจุจ ููุฎุทุฃ P1001

#### ุงูุญู:
1. ุงุฐูุจ ุฅูู Supabase Dashboard
2. ุงุจุญุซ ุนู ูุดุฑูุนู
3. ุฅุฐุง ูุฌุฏุช ุฒุฑ **Resume** ุฃู **Restore** โ ุงุถุบุท ุนููู
4. ุงูุชุธุฑ ุญุชู ูุตุจุญ ุงููุดุฑูุน Active (ูุฏ ูุณุชุบุฑู ุฏูููุฉ)
5. ุฌุฑุจ ุงูุงุชุตุงู ูุฑุฉ ุฃุฎุฑู

---

## ๐ ุฅุฐุง ูู ุชูุฌุญ ุฌููุน ุงูุญููู

ุฃุนุทูู ุงููุนูููุงุช ุงูุชุงููุฉ:

1. **ุญุงูุฉ ุงููุดุฑูุน** ูู Dashboard (Active/Paused/Inactive)
2. **ูู IP ูุณููุญุ** (Allow all IPs enabled?)
3. **ูู SQL Editor ูุนููุ** (Can you run SELECT 1?)
4. **ูู ุงูุงุดุชุฑุงู ุงููุฏููุน ูุดุทุ**
5. **Screenshot** ูู ุตูุญุฉ Settings โ Database

---

**ุชู ุงูุชุญุฏูุซ:** 2025-10-22
