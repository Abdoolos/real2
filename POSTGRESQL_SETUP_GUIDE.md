# ุฏููู ุชุซุจูุช ูุฅุนุฏุงุฏ PostgreSQL ุงููุญูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุณุงุนุฏู ุนูู ุชุซุจูุช PostgreSQL ูุญูููุง ุนูู Windows ูุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุดุฑูุน.

---

## โ๏ธ ุงููุดููุฉ ุงูุญุงููุฉ

```
Error: P1000: Authentication failed against database server
```

**ุงูุณุจุจ:** ุจูุงูุงุช ุงูุงุชุตุงู ูู ููู `.env` ุบูุฑ ุตุญูุญุฉ ุฃู PostgreSQL ุบูุฑ ูุซุจุช.

---

## ๐ ุฎุทูุงุช ุงูุญู

### ุงูุฎุทูุฉ 1: ุชูุฒูู PostgreSQL

ูู ุจุชุดุบูู:

```bash
install-postgresql.bat
```

ูุฐุง ุงูููู ุณูููู ุจู:
- ุชูุฒูู PostgreSQL 16 ุชููุงุฆููุง
- ุญูุธ ุงูููู ุจุงุณู `postgresql-installer.exe`

### ุงูุฎุทูุฉ 2: ุชุซุจูุช PostgreSQL

1. **ุดุบูู ุงูููู:** `postgresql-installer.exe`

2. **ุฃุซูุงุก ุงูุชุซุจูุช:**
   - โ ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ ูููุณุชุฎุฏู `postgres`
   - โ๏ธ **ููู ุฌุฏูุง:** ุงุญูุธ ูููุฉ ุงููุฑูุฑ - ุณุชุญุชุงุฌูุง!
   - ุงููููุฐ ุงูุงูุชุฑุงุถู: `5432` (ุงุชุฑูู ููุง ูู)
   - ุงููุณุงุฑ ุงูุงูุชุฑุงุถู: `C:\Program Files\PostgreSQL\16`

3. **ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชุซุจูุช** (ูุฏ ูุณุชุบุฑู 5-10 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุจุนุฏ ุงูุชูุงู ุงูุชุซุจูุชุ ูู ุจุชุดุบูู:

```bash
configure-postgresql.bat
```

ูุฐุง ุงูููู ุณูููู ุจู:
1. โ ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ: `family_finance`
2. โ ุชุญุฏูุซ ููู `.env` ุจุงูุจูุงูุงุช ุงูุตุญูุญุฉ
3. โ ุชุดุบูู Prisma migrations
4. โ ุฅูุดุงุก ุงูุฌุฏุงูู ุงููุทููุจุฉ

**ููุงุญุธุฉ:** ุณูุทูุจ ููู ูููุฉ ุงููุฑูุฑ ุงูุชู ุงุฎุชุฑุชูุง ูู ุงูุฎุทูุฉ 2

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

```bash
node test-database.js
```

ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ "โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ" - ูู ุดูุก ูุนูู! ๐

---

## ๐ ููู .env ุงูุฌุฏูุฏ

ุจุนุฏ ุชุดุบูู `configure-postgresql.bat`ุ ุณูุชู ุชุญุฏูุซ `.env` ููุตุจุญ:

```env
# Database
DATABASE_URL="postgresql://postgres:YOUR_PASSWORD@localhost:5432/family_finance"

# NextAuth
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-change-this-in-production

# Google OAuth (ุฃุถู ุจูุงูุงุชู ููุง)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
```

---

## ๐ง ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ 1: "psql.exe not found"

**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ูุณุงุฑ ุงูุชุซุจูุช
dir "C:\Program Files\PostgreSQL\16\bin\psql.exe"
```

ุฅุฐุง ูุงู ุงููุณุงุฑ ูุฎุชูููุงุ ุนุฏูู ูู `configure-postgresql.bat`

### ุงููุดููุฉ 2: "database already exists"

**ุงูุญู:**
```bash
# ุงุญุฐู ุงููุงุนุฏุฉ ุงููุฏููุฉ ุฃููุงู
psql -U postgres -c "DROP DATABASE IF EXISTS family_finance;"
# ุซู ุดุบูู configure-postgresql.bat ูุฑุฉ ุฃุฎุฑู
```

### ุงููุดููุฉ 3: "password authentication failed"

**ุงูุญู:**
- ุชุฃูุฏ ูู ูุชุงุจุฉ ูููุฉ ุงููุฑูุฑ ุงูุตุญูุญุฉ
- ูุง ุชุณุชุฎุฏู ูุณุงูุงุช ูู ูููุฉ ุงููุฑูุฑ
- ุฌุฑูุจ ุฅุนุงุฏุฉ ุชุดุบูู `configure-postgresql.bat`

---

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุฅุนุฏุงุฏ

ุจุนุฏ ุงูุชูุงู ุฌููุน ุงูุฎุทูุงุช:

1. โ PostgreSQL ูุซุจุช ููุนูู
2. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช `family_finance` ููุฌูุฏุฉ
3. โ ููู `.env` ูุญุฏูุซ
4. โ Prisma schema ููุดูุฑ
5. โ ุงูุฌุฏุงูู ุชู ุฅูุดุงุคูุง

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ุดุบูู ุงููุดุฑูุน:

```bash
npm run dev
```

ุงูุชุญ ุงููุชุตูุญ ุนูู: http://localhost:3000

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL Service:
   ```bash
   services.msc
   # ุงุจุญุซ ุนู: postgresql-x64-16
   ```

2. ุฑุงุฌุน ููู `.env` ูุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช

3. ุฌุฑูุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูููุจููุชุฑ

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ

โ๏ธ **ููู:**
- ูุง ุชุดุงุฑู ูููุฉ ูุฑูุฑ `postgres` ูุน ุฃุญุฏ
- ุบููุฑ `NEXTAUTH_SECRET` ูู ุงูุฅูุชุงุฌ
- ูุง ุชุถู ููู `.env` ุฅูู Git

---

ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ: Abdullah Alawiss
ุงูุชุงุฑูุฎ: 2025-01-21
